<app-game-code></app-game-code>

<h2>
  בחירת המשתתפים
</h2>


<form #f="ngForm" novalidate (ngSubmit)="registerUsers(f.value, f.valid)">

  <div class="form-group">
    <label for="name1">משתתף 1</label>

    <input type="text" class="form-control"
           name="name1" #name1="ngModel"
           [ngModel]="users.name1"
           required validateNotEqual="name2"
           minlength="3"
           maxlength="35"
           placeholder="שם המשתתף הראשון">

    <div [hidden]="name1.valid || (name1.pristine && !f.submitted || !name1.errors.required)"
         class="text-danger bg-danger">
      חובה לבחור שם משתמש.
    </div>
    <div [hidden]="name1.valid || (name1.pristine && !f.submitted || !name1.errors.minlength)"
         class="text-danger bg-danger">
      שם המשתמש לפחות 3 תווים ומקסימום 35 תווים.
    </div>
    <div [hidden]="name1.valid || (name1.pristine && !f.submitted)" class="text-danger bg-danger">
      שם המשתמש שונה משם המשתתף השני.
    </div>
  </div>

  <div class="form-group">
    <label for="name2">משתתף 2</label>

    <input type="text" class="form-control"
           name="name2" #name2="ngModel"
           [ngModel]="users.name2"
           required validateNotEqual="name1"
           minlength="3"
           maxlength="30"
           placeholder="שם המשתתף השני">

    <div [hidden]="name2.valid || (name2.pristine && !f.submitted || !name2.errors.required)"
         class="text-danger bg-danger">
      חובה לבחור שם משתמש.
    </div>
    <div [hidden]="name2.valid || (name2.pristine && !f.submitted || !name2.errors.minlength)"
         class="text-danger bg-danger">
      שם המשתמש לפחות 3 תווים ומקסימום 35 תווים.
    </div>
    <div [hidden]="name2.valid || (name2.pristine && !f.submitted)" class="text-danger bg-danger">
      שם המשתמש שונה משם המשתתף הראשון.
    </div>
  </div>

  <button type="submit" class="btn btn-success" [disabled]="!f.valid">המשך...</button>

</form>
<hr>
